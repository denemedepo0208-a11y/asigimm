<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReelsTogether</title>
  <link rel="stylesheet" href="styles/popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>ğŸ¬ ReelsTogether</h1>
      <div class="user-info" id="userInfo">
        <span id="username">KullanÄ±cÄ±</span>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="discover">ğŸ  KeÅŸfet</button>
      <button class="tab-btn" data-tab="create">â• Oda OluÅŸtur</button>
      <button class="tab-btn" data-tab="join">ğŸ”‘ Koda KatÄ±l</button>
    </div>

    <!-- Tab Content -->
    <div class="tab-content">
      <!-- Discover Tab -->
      <div class="tab-pane active" id="discover">
        <div class="search-bar">
          <input type="text" id="searchRooms" placeholder="Oda ara...">
          <select id="categoryFilter">
            <option value="">TÃ¼m Kategoriler</option>
            <option value="eglence">EÄŸlence</option>
            <option value="ask">AÅŸk</option>
            <option value="komedi">Komedi</option>
            <option value="muzik">MÃ¼zik</option>
            <option value="spor">Spor</option>
          </select>
        </div>
        <div class="rooms-list" id="roomsList">
          <div class="loading">Odalar yÃ¼kleniyor...</div>
        </div>
      </div>

      <!-- Create Room Tab -->
      <div class="tab-pane" id="create">
        <form id="createRoomForm">
          <div class="form-group">
            <label>Oda AdÄ±</label>
            <input type="text" id="roomName" placeholder="Ã–rn: Berkin KeÅŸfeti â¤ï¸" required>
          </div>

          <div class="form-group">
            <label>Oda Tipi</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="roomType" value="public" checked>
                <span>ğŸŒ Public (KeÅŸfet'te gÃ¶rÃ¼nÃ¼r)</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="roomType" value="private">
                <span>ğŸ”’ Private (Sadece kod ile)</span>
              </label>
            </div>
          </div>

          <div class="form-group" id="publicOptions">
            <label>Kategori</label>
            <select id="roomCategory" required>
              <option value="eglence">EÄŸlence</option>
              <option value="ask">AÅŸk</option>
              <option value="komedi">Komedi</option>
              <option value="muzik">MÃ¼zik</option>
              <option value="spor">Spor</option>
            </select>
          </div>

          <div class="form-group">
            <label>Maksimum KiÅŸi SayÄ±sÄ±</label>
            <select id="maxParticipants">
              <option value="2">2 KiÅŸi</option>
              <option value="3">3 KiÅŸi</option>
              <option value="4">4 KiÅŸi</option>
              <option value="5">5 KiÅŸi</option>
              <option value="10">10 KiÅŸi</option>
            </select>
          </div>

          <button type="submit" class="btn btn-primary">Oda OluÅŸtur</button>
        </form>
      </div>

      <!-- Join Room Tab -->
      <div class="tab-pane" id="join">
        <form id="joinRoomForm">
          <div class="form-group">
            <label>Oda Kodu</label>
            <input type="text" id="roomCode" placeholder="Ã–rn: 783421" required maxlength="6">
          </div>
          <button type="submit" class="btn btn-primary">Odaya KatÄ±l</button>
        </form>

        <div class="divider">veya</div>

        <div class="current-room" id="currentRoom" style="display: none;">
          <h3>Aktif Oda</h3>
          <div class="room-info">
            <div class="room-name" id="currentRoomName"></div>
            <div class="room-code" id="currentRoomCode"></div>
            <div class="room-participants" id="currentRoomParticipants"></div>
          </div>
          <button class="btn btn-secondary" id="copyRoomLink">ğŸ“‹ BaÄŸlantÄ± Kopyala</button>
          <button class="btn btn-danger" id="leaveRoom">ğŸšª Odadan AyrÄ±l</button>
          <button class="btn btn-settings" id="roomSettings">âš™ï¸ Oda AyarlarÄ±</button>
        </div>
      </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
      <span id="connectionStatus">ğŸ”´ BaÄŸlantÄ± yok</span>
    </div>
  </div>

  <!-- Room Settings Modal -->
  <div class="modal" id="settingsModal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>âš™ï¸ Oda AyarlarÄ±</h2>
        <button class="close-btn" id="closeSettings">âœ•</button>
      </div>
      <div class="modal-body">
        <h3>KatÄ±lÄ±mcÄ±lar</h3>
        <div id="participantsList"></div>
      </div>
    </div>
  </div>

  <!-- Join Request Modal -->
  <div class="modal" id="joinRequestModal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ”” KatÄ±lÄ±m Ä°steÄŸi</h2>
      </div>
      <div class="modal-body">
        <p><strong id="requesterName"></strong> odanÄ±za katÄ±lmak istiyor.</p>
        <div class="modal-actions">
          <button class="btn btn-primary" id="acceptRequest">âœ“ Kabul Et</button>
          <button class="btn btn-danger" id="rejectRequest">âœ• Reddet</button>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
